<%
  if defined? @individual_stylesheets
    @individual_stylesheets.add_gem_component("heading")
  end

  brand ||= false
  lang = local_assigns[:lang].presence

  brand_helper = GovukPublishingComponents::AppHelpers::BrandHelper.new(brand)
  heading_helper = GovukPublishingComponents::Presenters::HeadingHelper.new(local_assigns)
  shared_helper = GovukPublishingComponents::Presenters::SharedHelper.new(local_assigns)

  classes = %w(gem-c-heading)
  classes << heading_helper.classes
  classes << brand_helper.brand_class
  classes << brand_helper.border_color_class
  classes << shared_helper.get_margin_bottom if [*0..9].include?(local_assigns[:margin_bottom])
%>
<%= content_tag(shared_helper.get_heading_level, text,
  class: classes,
  id: heading_helper.id,
  lang: lang
) %>
