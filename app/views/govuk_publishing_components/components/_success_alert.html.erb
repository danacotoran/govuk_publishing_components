<%
  if defined? @individual_stylesheets
    @individual_stylesheets.add_gem_component("success-alert")
  end

  description ||= nil
  title_id ||= "govuk-notification-banner-title-#{SecureRandom.hex(4)}"
  shared_helper = GovukPublishingComponents::Presenters::SharedHelper.new(local_assigns)
  classes = %w(gem-c-success-alert govuk-notification-banner govuk-notification-banner--success)
  classes << shared_helper.get_margin_bottom if local_assigns[:margin_bottom]
%>

<%= tag.div class: classes,
  role: "alert",
  tabindex: "-1",
  aria: {
    labelledby: title_id,
  },
  data: {
    module: "initial-focus",
  } do %>
  <div class="govuk-notification-banner__header">
    <%= tag.h2 t("components.success_alert.success"), class: "govuk-notification-banner__title", id: title_id %>
  </div>
  <div class="govuk-notification-banner__content">
    <% if description.present? %>
      <%= tag.h3 message, class: "govuk-notification-banner__heading" %>
      <%= description %>
    <% else %>
      <%= tag.p message, class: "govuk-body gem-c-success-alert__message" %>
    <% end %>
  </div>
<% end %>
